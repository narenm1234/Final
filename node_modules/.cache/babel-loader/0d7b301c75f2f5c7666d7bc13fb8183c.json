{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/adityah/Auction Sales/ASP/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/adityah/Auction Sales/ASP/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/adityah/Auction Sales/ASP/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import Search from'../../components/SearchText/Search';import TextField from'@material-ui/core/TextField';import{InputLabel}from'@material-ui/core';import GroundVehicleMFS from'./GroundVehicleMFS';import GroundVehiclePLV from'./GroundVehiclePLV';import MenuItem from'@material-ui/core/MenuItem';import Select from'@material-ui/core/Select';import Radio from'@material-ui/core/Radio';import FormControlLabel from'@material-ui/core/FormControlLabel';import{getAuthToken,getVehicleDetails}from'../../service/api';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function VINSearch(props){var _vehicleResponse$vehi,_vehicleResponse$vehi2,_vehicleResponse$vehi3;var placeholder='Enter last 6 digits of VIN';var _useState=useState(''),_useState2=_slicedToArray(_useState,2),token=_useState2[0],setToken=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),vehicleResponse=_useState4[0],setVehicleResponse=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),validSearch=_useState6[0],setValidSearch=_useState6[1];var _useState7=useState('Ground_Vehicle_for_MFS'),_useState8=_slicedToArray(_useState7,2),reasonForReturn=_useState8[0],setreasonForReturn=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),suggestions=_useState10[0],setSuggestions=_useState10[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),searchValue=_useState12[0],setSearchValue=_useState12[1];var searchSuggestions=['12345678901234567','12345678901234566','12345678901234568','12345678901234569','12345678901234560'];useEffect(function(){var _tokenResponse$data;var tokenResponse=getAuthToken();setToken((_tokenResponse$data=tokenResponse.data)===null||_tokenResponse$data===void 0?void 0:_tokenResponse$data.access_token);});function getVehDetails(_x){return _getVehDetails.apply(this,arguments);}function _getVehDetails(){_getVehDetails=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(value){var _apiResponse$data$veh;var apiResponse;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getVehicleDetails(token,value);case 2:apiResponse=_context.sent;setVehicleResponse(apiResponse.data);if(((_apiResponse$data$veh=apiResponse.data.vehicleInfo)===null||_apiResponse$data$veh===void 0?void 0:_apiResponse$data$veh.length)>0){setValidSearch(true);setSuggestions(false);}else{setValidSearch(false);setSuggestions(true);}case 5:case\"end\":return _context.stop();}}},_callee);}));return _getVehDetails.apply(this,arguments);}var showResults=function showResults(e){var _e$target,_e$target2,_searchSuggestions;setSearchValue(e===null||e===void 0?void 0:(_e$target=e.target)===null||_e$target===void 0?void 0:_e$target.value);var value=e===null||e===void 0?void 0:(_e$target2=e.target)===null||_e$target2===void 0?void 0:_e$target2.value;console.log(value);getVehDetails(value);searchSuggestions=searchSuggestions.filter(function(val){return val.startsWith(value);});if((value===null||value===void 0?void 0:value.length)==0||!searchSuggestions||((_searchSuggestions=searchSuggestions)===null||_searchSuggestions===void 0?void 0:_searchSuggestions.length)==0||(searchValue===null||searchValue===void 0?void 0:searchValue.length)==0){setValidSearch(false);setSuggestions(false);}else if(searchSuggestions.length>1){setValidSearch(false);setSuggestions(true);}else{setValidSearch(true);setSuggestions(false);}};var setSearchData=function setSearchData(i){setSearchValue(searchSuggestions[i]);setValidSearch(false);setSuggestions(false);};var handleReasonChange=function handleReasonChange(e){console.log(e.target.value);setreasonForReturn(e.target.value);};return/*#__PURE__*/_jsx(\"div\",{className:\"form\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"grounding\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"searchLabelHeader\",children:\"Vehicle Grounding\"}),/*#__PURE__*/_jsx(\"div\",{class:\"searchLabel\",children:\"Begin Vehicle Lease return process\"}),/*#__PURE__*/_jsx(Search,{showSearchRight:true,searchCompleted:validSearch,placeholder:placeholder,editSearchTerm:showResults,searchValue:searchValue}),!validSearch&&suggestions&&/*#__PURE__*/_jsx(\"div\",{class:\"noMatchesFrame\",children:/*#__PURE__*/_jsx(\"div\",{class:\"noMatches\",children:\"VIN not found/Inactive\"})}),validSearch&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{class:\"carRecordFound\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"vehicleMakeModel\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[vehicleResponse===null||vehicleResponse===void 0?void 0:(_vehicleResponse$vehi=vehicleResponse.vehicleInfo[0])===null||_vehicleResponse$vehi===void 0?void 0:_vehicleResponse$vehi.brand,\" & \"]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"  \",vehicleResponse===null||vehicleResponse===void 0?void 0:(_vehicleResponse$vehi2=vehicleResponse.vehicleInfo[0])===null||_vehicleResponse$vehi2===void 0?void 0:_vehicleResponse$vehi2.model,\" | \",\" \"]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"  \",vehicleResponse===null||vehicleResponse===void 0?void 0:(_vehicleResponse$vehi3=vehicleResponse.vehicleInfo[0])===null||_vehicleResponse$vehi3===void 0?void 0:_vehicleResponse$vehi3.ext_color,\" \"]})]})}),/*#__PURE__*/_jsxs(\"div\",{class:\"customerReturnStyle\",children:[/*#__PURE__*/_jsx(InputLabel,{htmlFor:\"input-with-icon-adornment\",children:\"Customer Return date\"}),/*#__PURE__*/_jsx(TextField,{id:\"date\",type:\"date\",defaultValue:\"00/00/0000\",className:\"customerReturnDate\",variant:\"outlined\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"customerReturnStyle\",children:[/*#__PURE__*/_jsx(InputLabel,{htmlFor:\"input-with-icon-adornment\",children:\"Reason for Return\"}),/*#__PURE__*/_jsxs(Select,{name:\"Reason for Return\",value:reasonForReturn,variant:\"outlined\",inputProps:{'aria-label':'age'},className:\"customerReturnDate\",onChange:function onChange(event){return handleReasonChange(event);},children:[/*#__PURE__*/_jsx(MenuItem,{value:\"Purchase_Leased_Vehicle\",children:\"Purchase Leased Vehicle\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"Ground_Vehicle_for_MFS\",children:\"Ground Vehicle for MFS\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"Trade_In\",children:\"Trade In\"})]})]}),reasonForReturn==='Ground_Vehicle_for_MFS'&&/*#__PURE__*/_jsxs(_Fragment,{children:[\" \",/*#__PURE__*/_jsx(GroundVehicleMFS,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"odometerBox\",children:[/*#__PURE__*/_jsx(InputLabel,{htmlFor:\"input-with-icon-adornment\",children:\"Odometer Reading\"}),/*#__PURE__*/_jsx(TextField,{id:\"standard-basic\",placeholder:\"Enter odometer reading\",variant:\"outlined\",className:\"odometer\"}),/*#__PURE__*/_jsx(TextField,{id:\"standard-basic\",placeholder:\"Renter odometer reading\",variant:\"outlined\",className:\"odometer\"})]}),\" \",/*#__PURE__*/_jsxs(\"div\",{class:\"customerReturnStyle\",children:[/*#__PURE__*/_jsx(InputLabel,{htmlFor:\"input-with-icon-adornment\",children:\"Do you have a signed odometer statement?\"}),/*#__PURE__*/_jsxs(Select,{name:\"age\",value:1,variant:\"outlined\",inputProps:{'aria-label':'age'},className:\"customerReturnDate\",children:[/*#__PURE__*/_jsx(MenuItem,{value:1,children:\"Select Yes or No\"}),/*#__PURE__*/_jsx(MenuItem,{value:10,children:\"Yes\"}),/*#__PURE__*/_jsx(MenuItem,{value:20,children:\"No\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"keysReturnedBox\",children:[/*#__PURE__*/_jsx(InputLabel,{htmlFor:\"input-with-icon-adornment\",children:\"Number of Keys Returned\"}),/*#__PURE__*/_jsx(TextField,{id:\"standard-basic\",placeholder:\"Master Keys Returned\",variant:\"outlined\",className:\"keysReturned\"}),/*#__PURE__*/_jsx(TextField,{id:\"standard-basic\",placeholder:\"Valet Keys Returned\",variant:\"outlined\",className:\"keysReturned\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"vehicleCondition\",children:[/*#__PURE__*/_jsx(InputLabel,{htmlFor:\"input-with-icon-adornment\",children:\"Vehicle Condition\"}),/*#__PURE__*/_jsx(\"div\",{className:\"Rectangle-3\",children:/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Radio,{}),label:\"Drivable\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"Rectangle-3\",children:[\" \",/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Radio,{}),label:\"Not Drivable\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pickUpLocation\",children:[/*#__PURE__*/_jsx(InputLabel,{htmlFor:\"input-with-icon-adornment\",children:\"Pick Up Location\"}),/*#__PURE__*/_jsx(\"div\",{className:\"pickUpLocationBox\",children:/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Radio,{}),label:\"Location Name 1\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"pickUpLocationBox\",children:/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Radio,{}),label:\"Location Name 2\"})})]}),\" \"]}),(reasonForReturn==='Purchase_Leased_Vehicle'||reasonForReturn==='Trade_In')&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(GroundVehiclePLV,{}),/*#__PURE__*/_jsxs(\"div\",{class:\"customerReturnStyle\",children:[/*#__PURE__*/_jsx(InputLabel,{htmlFor:\"input-with-icon-adornment\",children:\"Do you have a signed odometer statement?\"}),/*#__PURE__*/_jsxs(Select,{name:\"age\",value:1,variant:\"outlined\",inputProps:{'aria-label':'age'},className:\"customerReturnDate\",children:[/*#__PURE__*/_jsx(MenuItem,{value:1,children:\"Select Yes or No\"}),/*#__PURE__*/_jsx(MenuItem,{value:10,children:\"Yes\"}),/*#__PURE__*/_jsx(MenuItem,{value:20,children:\"No\"})]})]})]})]})]})});};","map":{"version":3,"sources":["C:/Users/adityah/Auction Sales/ASP/src/pages/GroundPending/VINSearch.js"],"names":["React","useState","useEffect","Search","TextField","InputLabel","GroundVehicleMFS","GroundVehiclePLV","MenuItem","Select","Radio","FormControlLabel","getAuthToken","getVehicleDetails","VINSearch","props","placeholder","token","setToken","vehicleResponse","setVehicleResponse","validSearch","setValidSearch","reasonForReturn","setreasonForReturn","suggestions","setSuggestions","searchValue","setSearchValue","searchSuggestions","tokenResponse","data","access_token","getVehDetails","value","apiResponse","vehicleInfo","length","showResults","e","target","console","log","filter","val","startsWith","setSearchData","i","handleReasonChange","brand","model","ext_color","event"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Search from '../../components/SearchText/Search'\nimport TextField from '@material-ui/core/TextField';\nimport { InputLabel } from '@material-ui/core';\nimport GroundVehicleMFS from './GroundVehicleMFS';\nimport GroundVehiclePLV from './GroundVehiclePLV';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\nimport Radio from '@material-ui/core/Radio';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport { getAuthToken, getVehicleDetails } from '../../service/api';\nexport default function VINSearch(props) {\n  const placeholder = 'Enter last 6 digits of VIN';\n  const [token, setToken] = useState('')\n  const [vehicleResponse, setVehicleResponse] = useState({})\n  const [validSearch, setValidSearch] = useState(false);\n  const [reasonForReturn, setreasonForReturn] = useState('Ground_Vehicle_for_MFS');\n  const [suggestions, setSuggestions] = useState(false);\n  const [searchValue, setSearchValue] = useState();\n  let searchSuggestions = ['12345678901234567', '12345678901234566', '12345678901234568', '12345678901234569', '12345678901234560'];\n\n  useEffect(() => {\n    let tokenResponse = getAuthToken()\n    setToken(tokenResponse.data?.access_token)\n  })\n  async function getVehDetails(value) {\n    let apiResponse = await getVehicleDetails(token, value)\n    setVehicleResponse(apiResponse.data);\n    if(apiResponse.data.vehicleInfo?.length > 0){\n\n      setValidSearch(true);\n      setSuggestions(false);\n    }\n    else {\n      setValidSearch(false);\n      setSuggestions(true);\n    }\n\n  }\n\n  const showResults = (e) => {\n    setSearchValue(e?.target?.value);\n   \n    let value = e?.target?.value;\n    console.log(value)\n    getVehDetails(value)\n\n      \n      \n    searchSuggestions = searchSuggestions.filter(val => {\n      return val.startsWith(value);\n    });\n    if (value?.length == 0 || !searchSuggestions || searchSuggestions?.length == 0 || searchValue?.length == 0) {\n      setValidSearch(false);\n      setSuggestions(false);\n    }\n    else if (searchSuggestions.length > 1) {\n      setValidSearch(false);\n      setSuggestions(true);\n    } else {\n     \n      setValidSearch(true);\n      setSuggestions(false);\n    }\n  }\n\n  const setSearchData = (i) => {\n    setSearchValue(searchSuggestions[i]);\n    setValidSearch(false);\n    setSuggestions(false);\n  }\n  const handleReasonChange = (e) => {\n    console.log(e.target.value)\n    setreasonForReturn(e.target.value)\n  }\n\n  return (\n    <div className='form'>\n      <div class=\"grounding\">\n        <div class=\"searchLabelHeader\">Vehicle Grounding</div>\n        <div class=\"searchLabel\">Begin Vehicle Lease return process</div>\n        <Search showSearchRight={true} searchCompleted={validSearch} placeholder={placeholder} editSearchTerm={showResults} searchValue={searchValue}></Search>\n        {!validSearch && suggestions && <div class=\"noMatchesFrame\" >\n          <div class=\"noMatches\">VIN not found/Inactive</div>\n        </div>}\n\n        {validSearch && <div><div class=\"carRecordFound\">\n          <div class=\"vehicleMakeModel\">\n            <span>{vehicleResponse?.vehicleInfo[0]?.brand}{\" & \"}</span>\n            <span>{\"  \"}{vehicleResponse?.vehicleInfo[0]?.model}{\" | \"} </span>\n            <span>{\"  \"}{vehicleResponse?.vehicleInfo[0]?.ext_color} </span>\n             </div>\n\n        </div>\n          <div class=\"customerReturnStyle\">\n            <InputLabel htmlFor=\"input-with-icon-adornment\">Customer Return date</InputLabel>\n            <TextField\n              id=\"date\"\n              type=\"date\"\n              defaultValue=\"00/00/0000\"\n              className=\"customerReturnDate\"\n              variant=\"outlined\"\n            />\n          </div>\n\n          <div class=\"customerReturnStyle\">\n            <InputLabel htmlFor=\"input-with-icon-adornment\">Reason for Return</InputLabel>\n            <Select\n              name=\"Reason for Return\"\n              value={reasonForReturn}\n              variant=\"outlined\"\n              inputProps={{ 'aria-label': 'age' }}\n              className=\"customerReturnDate\"\n              onChange={(event) => handleReasonChange(event)}\n            >\n              <MenuItem value={\"Purchase_Leased_Vehicle\"}>Purchase Leased Vehicle</MenuItem>\n              <MenuItem value={\"Ground_Vehicle_for_MFS\"}>Ground Vehicle for MFS</MenuItem>\n              <MenuItem value={\"Trade_In\"}>Trade In</MenuItem>\n            </Select>\n          </div>\n          {\n            reasonForReturn === 'Ground_Vehicle_for_MFS' && (<> <GroundVehicleMFS />\n              <div className=\"odometerBox\">\n                <InputLabel htmlFor=\"input-with-icon-adornment\">Odometer Reading</InputLabel>\n                <TextField id=\"standard-basic\" placeholder=\"Enter odometer reading\" variant=\"outlined\" className=\"odometer\" />\n                <TextField id=\"standard-basic\" placeholder=\"Renter odometer reading\" variant=\"outlined\" className=\"odometer\" />\n              </div> <div class=\"customerReturnStyle\">\n                <InputLabel htmlFor=\"input-with-icon-adornment\">Do you have a signed odometer statement?</InputLabel>\n                <Select\n                  name=\"age\"\n                  value={1}\n                  variant=\"outlined\"\n                  inputProps={{ 'aria-label': 'age' }}\n                  className=\"customerReturnDate\"\n                >\n                  <MenuItem value={1}>Select Yes or No</MenuItem>\n                  <MenuItem value={10}>Yes</MenuItem>\n                  <MenuItem value={20}>No</MenuItem>\n                </Select>\n              </div>\n              <div className=\"keysReturnedBox\">\n                <InputLabel htmlFor=\"input-with-icon-adornment\">Number of Keys Returned</InputLabel>\n                <TextField id=\"standard-basic\" placeholder=\"Master Keys Returned\" variant=\"outlined\" className=\"keysReturned\" />\n                <TextField id=\"standard-basic\" placeholder=\"Valet Keys Returned\" variant=\"outlined\" className=\"keysReturned\" />\n              </div>\n              <div className=\"vehicleCondition\">\n                <InputLabel htmlFor=\"input-with-icon-adornment\">Vehicle Condition</InputLabel>\n                <div\n                  className=\"Rectangle-3\">\n                  <FormControlLabel control={<Radio />} label=\"Drivable\" /></div>\n                <div className=\"Rectangle-3\"> <FormControlLabel control={<Radio />} label=\"Not Drivable\" /></div>\n              </div>\n              <div className=\"pickUpLocation\">\n                <InputLabel htmlFor=\"input-with-icon-adornment\">Pick Up Location</InputLabel>\n                <div\n                  className=\"pickUpLocationBox\">\n                  <FormControlLabel control={<Radio />} label=\"Location Name 1\" /></div>\n\n                <div\n                  className=\"pickUpLocationBox\">\n                  <FormControlLabel control={<Radio />} label=\"Location Name 2\" /></div>\n\n              </div> </>)\n          }\n\n          {\n            (reasonForReturn === 'Purchase_Leased_Vehicle' || reasonForReturn === 'Trade_In') && (<><GroundVehiclePLV />\n              <div class=\"customerReturnStyle\">\n                <InputLabel htmlFor=\"input-with-icon-adornment\">Do you have a signed odometer statement?</InputLabel>\n                <Select\n                  name=\"age\"\n                  value={1}\n                  variant=\"outlined\"\n                  inputProps={{ 'aria-label': 'age' }}\n                  className=\"customerReturnDate\"\n                >\n                  <MenuItem value={1}>Select Yes or No</MenuItem>\n                  <MenuItem value={10}>Yes</MenuItem>\n                  <MenuItem value={20}>No</MenuItem>\n                </Select>\n              </div></>)\n          }\n\n\n        </div>}\n\n\n\n\n      </div>\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}